#!/bin/bash
echo ""
read -p "   [0;33mSnap Installer[0m

   This will install Snapd and the Snap App Store, the app store 
   for Linux.
   
   Please note that the installation can take a while for a slow
   connection as snap searches for resources. About 7 minutes on
   a fairly decent connection here.

   [0;34mhttps://snapcraft.io//[0m
   
   [0;32m-------------------------------------------------------------
   
   Please press enter to install Snap.
   
   -------------------------------------------------------------[0m
   
   
   Or, close this terminal window to quit the install." ;
if curl -fs https://api.snapcraft.io >/dev/null 2>&1; then
echo ""
sudo apt update
sudo apt install -y snapd &&
echo "[0;32mEnabling snapd service...[0m"
sudo systemctl enable --now snapd.socket
sudo snap wait system seed.loaded
echo "[0;32mInstalling required snap base...[0m"
sudo snap install core || true
echo
echo "[0;32mInstalling the Snap Store ... This can take a while.[0m"
sudo snap install snap-store &&
echo ""
echo ""
echo "[0;32m---------------------------------------------------------------"
echo ""
echo "All finished! For menus other than Wmenu, logging out and back in"
echo "will be necessary for the App Center to show in the menu."
echo "" 
echo "---------------------------------------------------------------[0m"
echo "" 
else
echo ""
 echo "   [0;31m-----------------------------------------------------[0m"
 echo ""
 echo "   [0;33mNo connection for Snap. Please connect and try again.[0m"
 echo ""
 echo "   [0;31m-----------------------------------------------------[0m"
echo ""
fi
read -n1 -p " Press any key to quit this dialog ... "
